[[appendix_document]]
=== Document modèles

La réponse est retournée sous forme de chaîne de caractères,
au format {xml} ({soap}) ou {json} ({rest})

Celle-ci contient les informations suivantes :

WSDocumentType ({rest})
[cols="2a,3a,3a,1a",options="header"]
.Paramètres en sortie
|===
|Paramètre|Description|Observations|Type
|*contentType*|type de contenu du document||_string_
|*secretLevel*|Niveau de secret||_integer_
|*data*|données du document principal en bytes||_string_
|*filename*|nom du fichier||_string_
|*flowCode*|code du flux||_string_
|*scriptCode*|code du script|Si un script est défini (de type *WSDocumentInitializer* ou *WSExtendDocumentInitializer* selon le _endpoint_ appelé), celui-ci
sera appliqué pour _"modifier"_ le comportement nominal du service. +
Veuillez vous référer aux chapitres correspondants dans la documentation dédiée aux scripts.|_string_
4+|[orange-text]#*_fields > field_*#
|*code*|code du champ||_string_
|*field*|valeur du champ||_integer_
|===

WSCommonDocumentType ({rest})
[cols="2a,3a,3a,1a",options="header"]
.Paramètres en sortie
|===
|Paramètre|Description|Observations|Type
|*contentType*|type de contenu du document||_string_
|*secretLevel*|Niveau de secret||_integer_
|*flowCode*|code du flux||_string_
|*scriptCode*|code du script||_string_
4+|[orange-text]#*_fields > field_*#
|*code*|code du champ||_string_
|*field*|valeur du champ||_integer_
|===

documentData ({soap})
[cols="2a,3a,3a,1a",options="header"]
.Paramètres en sortie
|===
|Paramètre|Description|Observations|Type
|*contentType*|type de contenu du document||_string_
|*secretLevel*|Niveau de secret||_integer_
|*data*|données du document principal en bytes||_string_
|*filename*|nom du fichier||_string_
|*flowCode*|code du flux||_string_
|*scriptCode*|code du script|cf. <<appendix_document_script, description>>|_string_
4+|[orange-text]#*_fields > field_*#
|*code*|code du champ||_string_
|*field*|valeur du champ||_integer_
|===

[[appendix_document_client_samples]]
==== Utilisation du client {java} fourni par {arcadeged}

.Création d'un document dans le type de contenu *CR* à l'aide du client.
```groovy
IDocumentClient docClientSvc = new DocumentClient(<url_arcadeged>)
// authentification basique ici
docClientSvc.setUsername(<username>)
docClientSvc.setPassword(<password>)

// création data
WSDocumentType docData = new WSDocumentType()
docData.setContentType("CR")

// champs
List<IFieldType> fields = new ArrayList<>()
fields.add(WSFieldType.build("CR_DES", "coucou"))
// et autres champs...
docData.setFieldsArray(fields);

// appel avec dépôt d'un fichier
Integer newDocId = docClientSvc.create(docData, Collections.singletonList(<file>))
```

[[appendix_document_script]]
include::_c_02a_document_script.adoc[]