[[_02_AttachmentDisplaySorting]]
== AttachmentDisplaySorting

=== Description

Ce script permet de définir quelle pièce jointe est affichée _par défaut_ en vue hiérarchique.

=== Paramètres

cf. <<_01_CommonData,attributs communs>>.

[options="noheader",cols="2a,2a,3a"]
|===
3+|[.header]
Entrées|[.sub-header]
_Nom_|[.sub-header]
_Type_|[.sub-header]
_Description_
|*_docId*|Integer|ID du document
|*_attachmentList*|List<IAttachment>|Liste des pièces jointes
3+|[.header]
Sortie
|[.sub-header]
_Nom_|[.sub-header]
_Type_|[.sub-header]
_Description_
|*_result*|*com.digitech.dossier.script.model.impl.result.ScriptResultValueAttachmentToDisplay*|contient les variables *document* et *attachment*
correspondant au document et sa pièce jointe à afficher
|===

=== Sample

Tri de la liste des pièces jointes par ordre alphabétique.

[source, groovy]
----
import com.digitech.dossier.common.model.backend.airs.impl.comparator.AttachmentComparator
import org.apache.commons.collections4.CollectionUtils

if(CollectionUtils.isNotEmpty(_attachmentList)) {
  _result.attachment = _attachmentList.get(0)
}
----